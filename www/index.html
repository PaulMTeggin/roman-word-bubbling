<head>
  <title>Roman Word Bubbling</title>
  <link
    rel="stylesheet"
    href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css"
  />
  <Link rel="stylesheet" href="css/main.css" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto"
    rel="stylesheet"
  />
</head>
<body>
  <main>
    <div class="canvas-container">
      <canvas id="textCanvas" width="400" height="200" hidden="true"></canvas>
      <canvas id="output"></canvas>
    </div>
    <div align="right">
      <a class="about" href="about.html">?</a>
    </div>
    <br /><br />
    <aside class="mdc-drawer">
      <div class="mdc-drawer__header">
        <span>Edit</span><span class="close">&times;</span>
      </div>
      <div class="mdc-drawer__content">
        <div class="input-container">
          <div class="input">
            <div class="label">Text</div>
            <div
              class="mdc-text-field mdc-text-field--outlined mdc-text-field--no-label"
            >
              <input
                type="text"
                class="mdc-text-field__input"
                aria-label="Label"
                id="textInput"
                type="text"
                name="words"
                value="sample"
              />
              <div class="mdc-notched-outline">
                <div class="mdc-notched-outline__leading"></div>
                <div class="mdc-notched-outline__trailing"></div>
              </div>
            </div>
          </div>
          <div class="input">
            <div class="label">Font</div>
            <div class="mdc-select mdc-select--outlined">
              <i class="mdc-select__dropdown-icon"></i>
              <select
                class="mdc-select__native-control"
                id="fontChooser"
                onchange="updateFont()"
              >
                <option value="'Comic Sans MS'">Comic Sans</option>
                <option value="Helvetica">Helvetica</option>
                <option value="'Trebuchet MS'">Trebuchet</option>
                <option value="Verdana">Verdana</option>
                <option value="custom">Custom...</option>
              </select>
              <div class="mdc-notched-outline"></div>
            </div>
            <input
              type="file"
              id="fontFile"
              accept=".ttf"
              hidden="true"
              oninput="loadCustomFont()"
            />
          </div>
          <div class="input">
            <div class="label slider">Font Size</div>
            <div
              class="mdc-slider"
              id="fontSize"
              tabindex="0"
              role="slider"
              aria-valuemin="16"
              aria-valuemax="300"
              aria-valuenow="70"
              aria-label="Select Value"
              data-value="70"
            >
              <div class="mdc-slider__track-container">
                <div class="mdc-slider__track"></div>
              </div>
              <div class="mdc-slider__thumb-container">
                <svg class="mdc-slider__thumb" width="21" height="21">
                  <circle cx="10.5" cy="10.5" r="7.875"></circle>
                </svg>
                <div class="mdc-slider__focus-ring"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="input-container">
        <div class="input">
          <div class="label">Outline color</div>
          <div class="colorOptions">
            <div class="color selected"></div>
            <div class="color"></div>
            <div class="color"></div>
          </div>
        </div>
        <div class="input">
          <div class="label slider">Outline Width %</div>
          <div
            class="mdc-slider"
            id="outlineThickness"
            tabindex="0"
            role="slider"
            aria-valuemin="1"
            aria-valuemax="20"
            aria-valuenow="9"
            aria-label="Select Value"
            data-value="9"
          >
            <div class="mdc-slider__track-container">
              <div class="mdc-slider__track"></div>
            </div>
            <div class="mdc-slider__thumb-container">
              <svg class="mdc-slider__thumb" width="21" height="21">
                <circle cx="10.5" cy="10.5" r="7.875"></circle>
              </svg>
              <div class="mdc-slider__focus-ring"></div>
            </div>
          </div>
        </div>
        <div class="input">
          <div class="label slider">Gap Width %:</div>
          <div
            class="mdc-slider"
            id="gapWidth"
            tabindex="0"
            role="slider"
            aria-valuemin="0"
            aria-valuemax="50"
            aria-valuenow="9"
            aria-label="Select Value"
            data-value="9"
          >
            <div class="mdc-slider__track-container">
              <div class="mdc-slider__track"></div>
            </div>
            <div class="mdc-slider__thumb-container">
              <svg class="mdc-slider__thumb" width="21" height="21">
                <circle cx="10.5" cy="10.5" r="7.875"></circle>
              </svg>
              <div class="mdc-slider__focus-ring"></div>
            </div>
          </div>
        </div>
        <div class="input checkbox">
          <div class="mdc-checkbox">
            <input
              type="checkbox"
              class="mdc-checkbox__native-control"
              id="removeText"
              type="checkbox"
              name="remove text"
              onclick="renderImage()"
            />
            <div class="mdc-checkbox__background">
              <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                <path
                  class="mdc-checkbox__checkmark-path"
                  fill="none"
                  d="M1.73,12.91 8.1,19.28 22.79,4.59"
                />
              </svg>
              <div class="mdc-checkbox__mixedmark"></div>
            </div>
          </div>
          <div class="label">Remove text</div>
        </div>
        <div class="input checkbox">
          <div class="mdc-checkbox">
            <input
              type="checkbox"
              class="mdc-checkbox__native-control"
              id="darkMode"
              type="checkbox"
              name="dark mode"
              onclick="renderImage()"
            />
            <div class="mdc-checkbox__background">
              <svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24">
                <path
                  class="mdc-checkbox__checkmark-path"
                  fill="none"
                  d="M1.73,12.91 8.1,19.28 22.79,4.59"
                />
              </svg>
              <div class="mdc-checkbox__mixedmark"></div>
            </div>
          </div>
          <div class="label">Dark background</div>
        </div>
      </div>
    </aside>
  </main>

  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  <script src="third_party/OpenCV/opencv.js" type="text/javascript"></script>
  <script src="js/romanwordbubbling.js" type="text/javascript"></script>
  <script>
    const fontSizeElement = document.getElementById("fontSize");
    const fontSizeSlider = new mdc.slider.MDCSlider(fontSizeElement);
    fontSizeSlider.listen("MDCSlider:input", () => {
      fontSizeElement.dataset.value = fontSizeSlider.value;
      renderImage();
    });
    const outlineThicknessElement = document.getElementById("outlineThickness");
    const outlineThicknessSlider = new mdc.slider.MDCSlider(
      outlineThicknessElement
    );
    outlineThicknessSlider.listen("MDCSlider:input", () => {
      outlineThicknessElement.dataset.value = outlineThicknessSlider.value;
      renderImage();
    });
    const gapWidthElement = document.getElementById("gapWidth");
    const gapWidthSlider = new mdc.slider.MDCSlider(gapWidthElement);
    gapWidthSlider.listen("MDCSlider:input", () => {
      gapWidthElement.dataset.value = gapWidthSlider.value;
      renderImage();
    });
    const colorOptions = document.querySelectorAll(".color");
    for (const colorChoice of colorOptions) {
      colorChoice.addEventListener("click", e => {
        for (const color of colorOptions) {
          color.classList.remove("selected");
        }
        e.target.classList.add("selected");
        renderImage();
      });
    }
  </script>
</body>
